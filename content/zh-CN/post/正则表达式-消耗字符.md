---
title: "正则表达式 消耗字符"
date: "2022-03-13 11:42:55"
categories:
  - LeetCode
tags:
  - LeetCode
toc: true
math: true
type: about
---

### 正则表达式匹配过程

主要的引擎有2种: 

- DFA(Deterministic Finite Automatons/确定性有限自动机—)，文本主导的正则引擎
- NFA(Nondeterministic Finite Automatons/非确定性有限自动机)，表达式主导的正则引擎，核心特点——回溯

### 消耗字符

在正则表达式匹配的过程中，存在“消耗字符”的概念。即一个字符在匹配过程中被检索（消耗）过，后面的匹配表达式就不会再检索这一个/串字符了。

```
(?=exp) 捕获，但不消耗字符，且匹配exp，返回位置
(?!exp) 捕获，但不消耗字符，且不匹配exp，返回位置
(?<=exp) 反向
(?<!exp) 反向
```

例：

#### 1、找出字符串中出现过1次以上的单词

![](/images/正则表达式-消耗字符/1647147733(1).jpg)

第一条正则表达式\b(\w+)\b.*\b\1\b，在第一个(\w+)匹配到what，并且其后的\1也匹配到第二个what的时候，“Oh what a day, what”这一段子串都已经被正则表达式消耗了，所以之后的匹配，将直接从第二个what之后开始。也就是消耗了字符

\1：正则表达式中的小括号"()"。是代表分组的意思。 如果再其后面出现\1则是代表与第一个小括号中要匹配的内容相同。 注意：\1必须与小括号配合使用

#### 2、(?:pattern)与(?=pattern)

(?:pattern) 消耗字符，下一字符匹配会从已匹配后的位置开始。
(?=pattern) 不消耗字符，下一字符匹配会从预查之前的位置开始。

![](/images/正则表达式-消耗字符/20190509201226698.png)

